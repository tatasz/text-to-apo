String p1 = "<flame name=\"output\" version=\"Apophysis 7x Version 15C.9\" size=\"954 934\" center=\"0 0\" scale=\"9.0\" oversample=\"1\" filter=\"0.2\" quality=\"1\" background=\"0 0 0\" brightness=\"4\" gamma=\"3.51\" gamma_threshold=\"0.01\" estimator_radius=\"9\" estimator_minimum=\"0\" estimator_curve=\"0.4\" enable_de=\"0\" plugins=\"\" new_linear=\"1\" curves=\"0 0 1 0 0 1 1 1 1 1 1 1 0 0 1 0 0 1 1 1 1 1 1 1 0 0 1 0 0 1 1 1 1 1 1 1 0 0 1 0 0 1 1 1 1 1 1 1\" >";
String p4 = "</flame>";
String p2 = "<xform weight=\"_WEIGHT_\" color=\"_COLOR_\" symmetry=\"-1\" square=\"1\" coefs=\"1 0 0 1 0 0\" post=\"_C00_ 0 0 _C11_ _C20_ _C21_\" opacity=\"1\" name=\"_NAME_\"/>";
String p3 = "   <palette count=\"256\" format=\"RGB\">\r\r\n      D3D0C1CBC3CCCCC1D2CEBFD8CEBFDCCFBFE1CBBEE3C7BEE5\r\r\n      BBBDF1B2B9F0AAB5EFA5B4EAA1B4E6A2B1DAA3AECEA3ABC3\r\r\n      A4A9B9A78F959E848F967A8A8E7386866D838268807E647E\r\r\n      7358776C5B7C665F825961854D6489496187465E863F5583\r\n      404F7D524C62574C525D4D435C423C5C38365C34375C3138\r\n      672E4474374C814054914E65A15C76A56580AA6F8BB6819F\r\n      C292B4D8B2CCDFC0D5E7CFDFE7D9E5E7E3EBE6E6EDE6E9F0\r\n      DCEDF4D7EBF4D2EAF5CDE6F4C9E2F4C7DFF1C6DCEEBFD5E3\r\n      B6CBD2ACB9AFAEB49DB0B08CB3AD82B6AB79B8A463B7994D\r\n      A67E28A97E22AD7E1DBA8326C7882FCA8836CD893ECB874F\r\n      C98A5AC5996ECFA171DAA975DDA876E0A878DC9E7CD3977E\r\n      B4937FA7947E9A957D94937E8F9180888C897F8B977188AA\r\n      6787BC5D92D55F99DE61A1E860A3EB5FA5EF5FA5F459A3F5\r\n      6B98F47C97F08D96EC9493E89B91E4A095DAA893D3B390C4\r\n      C68AB9DF749EE37298E87192EC708AED737BEE746DEF775B\r\n      E25F50DB5856D4515DD2535CD1565CD3644ED8683FD96C35\r\n      D86E34D2634ECE6453CA6658C4695DBC6C5AAB6F579C6C5C\r\n      7D5E747463886C689D666CA46170AB5C7AB55681BB5385C0\r\n      558ECA72AFE27CB9E786C3EC9AD4F6ACDDFAB8E4FBC2E6FB\r\n      D0E0F7D5DDF6DBDBF5E6DCF2EEDFF1F3E2F1F3E6F2EDE1F3\r\n      E1D2F1C2C0EBBABBE9B2B7E89EB5E791B9EA85B6ED7EB4EF\r\n      7DB0F07BAEF07AACF07CABEC7DABEB7DACE97CB0EB7FB0EC\r\n      7EB1F17AB0F274ADF06BACEB61A9E559A2DE55A0D956A2D8\r\n      62A2D466A5D56AA9D774A9D87FABD98AB4DA9BBCDCA7C0DB\r\n      B1CAE1BBCFE7C4D2ECC8D9F1CFE2F4D4E6F1D8EDF0DCF3ED\r\n      E3F5EAE6F7E6E8F6E3E9F2E0E5EDDDDEEBDAD5E5DBCBE2DB\r\n      BEDDD9BAD7D6B6D0D1B4D0C9B0CDC5B0CEC2AACEC1A9D0C3\r\n      ABCEC8AED0C8B2D1C9B6D3C5BBD1BFC5D4AFCED4A3D5D39C\r\n      D9D6A1D7DAA7D4DAB0D6DBADDADFA7E1DEA1E5E1A5E7E7B0\r\n      E3EBC3E0ECD6DCEFE2DCEEE6DBEBE9DAEBEAD9EAEAD8E8EA\r\n      D4E6E9D3E4E5D1E1E0CDDFD9CDE0D3CFE1CDD1E2CED4E4CE\r\n      D5E5CED1E2CACEDFC4CFE0C0D2E1C0D5E1BFD9DFC0D9DCC2\r\n   </palette>";

String makeP2(int x0, int y0, int wd, int hd, float col, char name){
  String xform = p2;
  int weight = wd * hd;
  xform = xform.replace("_WEIGHT_", str(weight));
  xform = xform.replace("_COLOR_", str(col));
  xform = xform.replace("_NAME_", str(name));
  xform = xform.replace("_C00_", str(wd));
  xform = xform.replace("_C11_", str(hd));
  xform = xform.replace("_C20_", str(x0 + float(wd)/2));
  xform = xform.replace("_C21_", str(y0 + float(hd)/2)); //<>//
  return xform;
}
